<mat-toolbar class="flex justify-between justify-center bg-red-700 rounded-lg text-white">
    <h3>Componentes Tecnologicos</h3>
    <button mat-icon-button mat-dialog-close>
        <mat-icon>
            close
        </mat-icon>

    </button>
</mat-toolbar>
<mat-dialog-content>
    <div>
        <div class="container">
            <div class="sticky">
              <button (click)='abrirFormulario()'>Crear nuevo</button>
              <button (click)='abrirFormularioRepotencia()'>Repotenciar</button>
              <h1>{{row.tec_codigo}} - {{row.cat_nombre}}</h1>
            </div>
            <app-container >
                <app-table [data]="data" [metaDataColumns]="metaDataColumns">
                    <ng-container matColumnDef="actions">
                        <th mat-header-cell *matHeaderCellDef ></th>
                        <td mat-cell *matCellDef="let row" class="alignButton">
                            <button 
                            mat-icon-button
                            color="primary"
                            *ngIf="row.det_tec_com_uso_id != null"
                            (click)="quitarComponente(row)"
                            matTooltip="QUITAR">
                            <mat-icon>do_not_disturb_on</mat-icon>
                        </button>
                        <button 
                        mat-icon-button
                        color="primary"
                        (click)="openAumentarModal(row)"
                        matTooltip="REPOTENCIAR">
                        <mat-icon>construction</mat-icon>
                        </button>
                        </td>
                    </ng-container>
                </app-table> 
            </app-container>
        </div>
    </div>

</mat-dialog-content>

<div *ngIf="modalAumentarOpen" class="modal">
    <div class="modal-content">
      <span class="close" (click)="closeAumentarModal()">&times;</span>
      <h2>Repotenciar</h2>

      <mat-form-field class="search-field">
        <mat-label>Buscar por C贸digo</mat-label>
        <input matInput (input)="applyFilter($event)" placeholder="Ingrese el c贸digo">
      </mat-form-field>
      
      <div class="selection-list-container">
        <mat-selection-list [(ngModel)]="selectedItem">
          <mat-list-option *ngFor="let componente of componentes" [value]="componente.com_id" (click)="selectItem(componente)">
            {{ componente.com_codigo_bien }} - {{ componente.com_codigo_uta }} - {{ componente.det_cat_nombre }}
          </mat-list-option>
        </mat-selection-list>
      </div>

      <div>
        <label for="exampleTextarea">Descripci贸n de Repotenciaci贸n:</label>
        <textarea id="exampleTextarea" [(ngModel)]="detalleRepotencia" rows="4" cols="50"></textarea>
      </div>
  
      <div class="button-container">
        <button mat-button (click)="repotenciar()" [disabled]="!isFormValid()" [ngClass]="{'invalid-button': !isFormValid()}">Repotenciar</button>
        <button mat-button (click)="closeAumentarModal()" class="Cancelar">Cancelar</button>
      </div>
    </div>
  </div>
  


